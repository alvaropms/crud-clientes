(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(4186)}])},3971:function(t,n,e){"use strict";e.d(n,{Z:function(){return f}});var r=e(5893),a=e(1664),i=e.n(a),o=e(7294),s=e(1163),u=e.n(s),c=e(3726),l=e(5615);var f=function(t){var n=t.page,e=t.cliente,a=t.atualizar,s=(0,o.useState)(""),f=s[0],d=s[1],h=(0,o.useState)(""),p=h[0],v=h[1],m=(0,o.useState)(""),x=m[0],w=m[1],g=!1,b=!1;switch(n.toLowerCase()){case"login":g=!0;break;case"edit":b=!0}return(0,o.useEffect)((function(){b&&(w(null===e||void 0===e?void 0:e.nome),v(null===e||void 0===e?void 0:e.email))}),[b,null===e||void 0===e?void 0:e.nome,null===e||void 0===e?void 0:e.email]),(0,r.jsx)("div",{className:"d-flex flex-column align-items-center justify-content-center ".concat(b?"mb-3":"fullScreenHeight"),children:(0,r.jsx)("div",{className:"card text-center text-white bg-dark p-4",children:(0,r.jsxs)("div",{className:"card-body",children:[b?(0,r.jsx)("h5",{children:"Editar cliente"}):(0,r.jsxs)("h5",{children:["Fa\xe7a seu ",g?"Login":"Cadastro"]}),(0,r.jsxs)("form",{className:"pt-3",children:[g?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{htmlFor:"nome",children:"Nome"}),(0,r.jsx)("input",{type:"text",className:"form-control",value:x,onChange:function(t){return w(t.target.value)},placeholder:"Jo\xe3o da Silva"})," "]}),(0,r.jsx)("label",{htmlFor:"email",children:"Email"}),(0,r.jsx)("input",{type:"email",className:"form-control",value:p,onChange:function(t){return v(t.target.value)},placeholder:"exemplo@exemplo.com"}),b?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{htmlFor:"senha",children:"Senha"}),(0,r.jsx)("input",{type:"password",value:f,onChange:function(t){return d(t.target.value)},className:"form-control"})]}),(0,r.jsx)("button",{type:"button",onClick:function(){return b?a(x,p,null===e||void 0===e?void 0:e.id):g?function(t,n){l.Z.logar(t,n).then((function(t){alert(t.data),u().push("/home")})).catch((function(t){alert("Erro ao logar"),alert(t.response.data)}))}(p,f):function(t,n,e){var r=new c.c(t,n,void 0,e);l.Z.cadastrar(r).then((function(){alert("Cadastrado com sucesso!"),u().push("/")})).catch((function(t){alert("Erro ao cadastrar"),alert(t.response.data)}))}(x,p,f)},className:"fullWidth mt-2 btn btn-primary",children:g?"Logar":b?"Salvar":"Cadastrar"}),b?null:g?(0,r.jsx)(i(),{href:"/cadastro",children:"Cadastrar-se"}):(0,r.jsx)(i(),{href:"/",children:"Logar"})]})]})})})}},3726:function(t,n,e){"use strict";e.d(n,{c:function(){return r}});var r=function t(n,e,r,a){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.nome=n,this.email=e,this.id=r,this.senha=a}},4186:function(t,n,e){"use strict";e.r(n);var r=e(5893),a=e(3971);n.default=function(){return(0,r.jsx)(a.Z,{page:"login"})}},5615:function(t,n,e){"use strict";var r=e(4051),a=e.n(r),i=e(9669),o=e.n(i),s=e(3726);function u(t,n,e,r,a,i,o){try{var s=t[i](o),u=s.value}catch(c){return void e(c)}s.done?n(u):Promise.resolve(u).then(r,a)}function c(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var i=t.apply(n,e);function o(t){u(i,r,a,o,s,"next",t)}function s(t){u(i,r,a,o,s,"throw",t)}o(void 0)}))}}var l=new(function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=o().create({baseURL:"http://localhost:8080"})}var n=t.prototype;return n.toCliente=function(t){var n=t.data;return new s.c(n.nome,n.email,n.id)},n.toClientes=function(t){return t.data.map((function(t){return t}))},n.cadastrar=function(t){var n=this;return c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.api.post("/cadastrar",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},n.listar=function(){var t=this;return c(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.api.get("/listar");case 2:return e=n.sent,n.abrupt("return",t.toClientes(e));case 4:case"end":return n.stop()}}),n)})))()},n.deletar=function(t){var n=this;return c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.api.delete("/deletar/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},n.atualizar=function(t){var n=this;return c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.api.put("/atualizar",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},n.pesquisar=function(t){var n=this;return c(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.api.get("/pesquisar",{params:{nome:t}});case 2:return r=e.sent,e.abrupt("return",n.toCliente(r));case 4:case"end":return e.stop()}}),e)})))()},n.logar=function(t,n){var e=this;return c(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.api.post("/logar",{email:t,senha:n});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},t}());n.Z=l}},function(t){t.O(0,[630,774,888,179],(function(){return n=8312,t(t.s=n);var n}));var n=t.O();_N_E=n}]);