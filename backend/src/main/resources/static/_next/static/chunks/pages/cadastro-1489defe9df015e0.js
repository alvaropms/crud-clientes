(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{6730:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cadastro",function(){return e(9548)}])},3971:function(t,n,e){"use strict";e.d(n,{Z:function(){return f}});var r=e(5893),a=e(1664),s=e.n(a),i=e(7294),o=e(1163),c=e.n(o),u=e(3726),l=e(5615);var f=function(t){var n=t.page,e=t.cliente,a=t.atualizar,o=(0,i.useState)(""),f=o[0],d=o[1],h=(0,i.useState)(""),p=h[0],v=h[1],m=(0,i.useState)(""),x=m[0],w=m[1],g=!1,b=!1;switch(n.toLowerCase()){case"login":g=!0;break;case"edit":b=!0}return(0,i.useEffect)((function(){b&&(w(null===e||void 0===e?void 0:e.nome),v(null===e||void 0===e?void 0:e.email))}),[b,null===e||void 0===e?void 0:e.nome,null===e||void 0===e?void 0:e.email]),(0,r.jsx)("div",{className:"d-flex flex-column align-items-center justify-content-center ".concat(b?"mb-3":"fullScreenHeight"),children:(0,r.jsx)("div",{className:"card text-center text-white bg-dark p-4",children:(0,r.jsxs)("div",{className:"card-body",children:[b?(0,r.jsx)("h5",{children:"Editar cliente"}):(0,r.jsxs)("h5",{children:["Fa\xe7a seu ",g?"Login":"Cadastro"]}),(0,r.jsxs)("form",{className:"pt-3",children:[g?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{htmlFor:"nome",children:"Nome"}),(0,r.jsx)("input",{type:"text",className:"form-control",value:x,onChange:function(t){return w(t.target.value)},placeholder:"Jo\xe3o da Silva"})," "]}),(0,r.jsx)("label",{htmlFor:"email",children:"Email"}),(0,r.jsx)("input",{type:"email",className:"form-control",value:p,onChange:function(t){return v(t.target.value)},placeholder:"exemplo@exemplo.com"}),b?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{htmlFor:"senha",children:"Senha"}),(0,r.jsx)("input",{type:"password",value:f,onChange:function(t){return d(t.target.value)},className:"form-control"})]}),(0,r.jsx)("button",{type:"button",onClick:function(){return b?a(x,p,null===e||void 0===e?void 0:e.id):g?function(t,n){l.Z.logar(t,n).then((function(t){alert(t.data),c().push("/home")})).catch((function(t){alert("Erro ao logar"),alert(t.response.data)}))}(p,f):function(t,n,e){var r=new u.c(t,n,void 0,e);l.Z.cadastrar(r).then((function(){alert("Cadastrado com sucesso!"),c().push("/")})).catch((function(t){alert("Erro ao cadastrar"),alert(t.response.data)}))}(x,p,f)},className:"fullWidth mt-2 btn btn-primary",children:g?"Logar":b?"Salvar":"Cadastrar"}),b?null:g?(0,r.jsx)(s(),{href:"/cadastro",children:"Cadastrar-se"}):(0,r.jsx)(s(),{href:"/",children:"Logar"})]})]})})})}},3726:function(t,n,e){"use strict";e.d(n,{c:function(){return r}});var r=function t(n,e,r,a){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.nome=n,this.email=e,this.id=r,this.senha=a}},9548:function(t,n,e){"use strict";e.r(n);var r=e(5893),a=e(3971);n.default=function(){return(0,r.jsx)(a.Z,{page:"register"})}},5615:function(t,n,e){"use strict";var r=e(4051),a=e.n(r),s=e(9669),i=e.n(s),o=e(3726);function c(t,n,e,r,a,s,i){try{var o=t[s](i),c=o.value}catch(u){return void e(u)}o.done?n(c):Promise.resolve(c).then(r,a)}function u(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var s=t.apply(n,e);function i(t){c(s,r,a,i,o,"next",t)}function o(t){c(s,r,a,i,o,"throw",t)}i(void 0)}))}}var l=new(function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=i().create({baseURL:"http://localhost:8080"})}var n=t.prototype;return n.toCliente=function(t){var n=t.data;return new o.c(n.nome,n.email,n.id)},n.toClientes=function(t){return t.data.map((function(t){return t}))},n.cadastrar=function(t){var n=this;return u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.api.post("/cadastrar",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},n.listar=function(){var t=this;return u(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.api.get("/listar");case 2:return e=n.sent,n.abrupt("return",t.toClientes(e));case 4:case"end":return n.stop()}}),n)})))()},n.deletar=function(t){var n=this;return u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.api.delete("/deletar/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},n.atualizar=function(t){var n=this;return u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.api.put("/atualizar",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},n.pesquisar=function(t){var n=this;return u(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.api.get("/pesquisar",{params:{nome:t}});case 2:return r=e.sent,e.abrupt("return",n.toCliente(r));case 4:case"end":return e.stop()}}),e)})))()},n.logar=function(t,n){var e=this;return u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.api.post("/logar",{email:t,senha:n});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},t}());n.Z=l}},function(t){t.O(0,[630,774,888,179],(function(){return n=6730,t(t.s=n);var n}));var n=t.O();_N_E=n}]);